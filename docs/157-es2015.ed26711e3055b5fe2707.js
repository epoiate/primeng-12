(self.webpackChunkprimeng=self.webpackChunkprimeng||[]).push([[157],{60157:function(e,t,i){"use strict";i.d(t,{o6:function(){return n.o6}});var n=i(57003)},57003:function(e,t,i){"use strict";i.d(t,{mP:function(){return Z},o6:function(){return V}});var n=i(87368),s=i(61116),o=i(37329),l=i(78230),a=i(99713),r=i(11462),c=i(24269),p=i(17402),d=i(49781),h=i(65939),u=i(30844);const f=["container"],v=["focusInput"];function m(e,t){1&e&&n.GkF(0)}const g=function(e,t){return{$implicit:e,placeholder:t}};function y(e,t){if(1&e&&(n.ynx(0),n.YNc(1,m,1,0,"ng-container",12),n.BQk()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("ngTemplateOutlet",e.valueTemplate)("ngTemplateOutletContext",n.WLB(2,g,e.value,e.placeholder))}}function b(e,t){if(1&e&&(n.ynx(0),n._uU(1),n.BQk()),2&e){const e=n.oxw(2);n.xp6(1),n.hij(" ",e.label||"empty"," ")}}function x(e,t){if(1&e&&(n.TgZ(0,"div",16),n.TgZ(1,"span",17),n._uU(2),n.qZA(),n.qZA()),2&e){const e=t.$implicit;n.xp6(2),n.Oqu(e.label)}}function w(e,t){if(1&e&&(n.ynx(0),n._uU(1),n.BQk()),2&e){const e=n.oxw(3);n.xp6(1),n.Oqu(e.placeholder||"empty")}}function T(e,t){if(1&e&&(n.YNc(0,x,3,1,"div",14),n.YNc(1,w,2,1,"ng-container",15)),2&e){const e=n.oxw(2);n.Q6J("ngForOf",e.value),n.xp6(1),n.Q6J("ngIf",e.emptyValue)}}function k(e,t){if(1&e&&(n.YNc(0,b,2,1,"ng-container",7),n.YNc(1,T,2,2,"ng-template",null,13,n.W1O)),2&e){const e=n.MAs(2),t=n.oxw();n.Q6J("ngIf","comma"===t.display)("ngIfElse",e)}}function C(e,t){1&e&&n.GkF(0)}function S(e,t){if(1&e&&(n.ynx(0),n._uU(1),n.BQk()),2&e){const e=n.oxw(3);n.xp6(1),n.hij(" ",e.emptyMessageText," ")}}function E(e,t){1&e&&n.GkF(0)}function O(e,t){if(1&e&&(n.TgZ(0,"div",23),n.YNc(1,S,2,1,"ng-container",7),n.YNc(2,E,1,0,"ng-container",24),n.qZA()),2&e){const e=n.oxw(2);n.xp6(1),n.Q6J("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),n.xp6(1),n.Q6J("ngTemplateOutlet",e.emptyTemplate)}}function N(e,t){1&e&&n.GkF(0)}const L=function(e,t){return{showTransitionParams:e,hideTransitionParams:t}},M=function(e){return{value:"visible",params:e}},I=function(e,t){return{$implicit:e,options:t}},A=function(e){return{"max-height":e}};function H(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",18,19),n.NdJ("click",function(t){return n.CHM(e),n.oxw().onOverlayClick(t)})("@overlayAnimation.start",function(t){return n.CHM(e),n.oxw().onOverlayAnimationStart(t)})("@overlayAnimation.done",function(t){return n.CHM(e),n.oxw().onOverlayAnimationDone(t)}),n.YNc(2,C,1,0,"ng-container",12),n.TgZ(3,"div",20),n.TgZ(4,"p-tree",21),n.NdJ("selectionChange",function(t){return n.CHM(e),n.oxw().onSelectionChange(t)})("onNodeExpand",function(t){return n.CHM(e),n.oxw().nodeExpand(t)})("onNodeCollapse",function(t){return n.CHM(e),n.oxw().nodeCollapse(t)})("onNodeSelect",function(t){return n.CHM(e),n.oxw().onSelect(t)})("onNodeUnselect",function(t){return n.CHM(e),n.oxw().onUnselect(t)}),n.qZA(),n.YNc(5,O,3,3,"div",22),n.qZA(),n.YNc(6,N,1,0,"ng-container",12),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("@overlayAnimation",n.VKq(16,M,n.WLB(13,L,e.showTransitionOptions,e.hideTransitionOptions))),n.xp6(2),n.Q6J("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",n.WLB(18,I,e.value,e.options)),n.xp6(1),n.Q6J("ngStyle",n.VKq(21,A,e.scrollHeight)),n.xp6(1),n.Q6J("value",e.options)("propagateSelectionDown",e.propagateSelectionDown)("propagateSelectionUp",e.propagateSelectionUp)("selectionMode",e.selectionMode)("selection",e.value)("metaKeySelection",e.metaKeySelection),n.xp6(1),n.Q6J("ngIf",e.emptyOptions),n.xp6(1),n.Q6J("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",n.WLB(23,I,e.value,e.options))}}const B={provide:r.JU,useExisting:(0,n.Gpc)(()=>Z),multi:!0};let Z=(()=>{class e{constructor(e,t,i,s){this.config=e,this.cd=t,this.el=i,this.overlayService=s,this.type="button",this.scrollHeight="400px",this.metaKeySelection=!0,this.display="comma",this.selectionMode="single",this.propagateSelectionDown=!0,this.propagateSelectionUp=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onNodeExpand=new n.vpe,this.onNodeCollapse=new n.vpe,this.onShow=new n.vpe,this.onHide=new n.vpe,this.onNodeUnselect=new n.vpe,this.onNodeSelect=new n.vpe,this.expandedNodes=[],this.onModelChange=()=>{},this.onModelTouched=()=>{}}get options(){return this._options}set options(e){this._options=e,this.updateTreeState()}ngOnInit(){this.updateTreeState()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"value":this.valueTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.valueTemplate=e.template}})}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.overlayEl=e.element,this.onOverlayEnter()}}onOverlayAnimationDone(e){switch(e.toState){case"void":this.onOverlayLeave()}}onSelectionChange(e){this.value=e,this.onModelChange(this.value),this.cd.markForCheck()}onClick(e){this.disabled||this.overlayEl&&this.overlayEl.contains(e.target)||c.p.hasClass(e.target,"p-treeselect-close")||(this.overlayVisible?this.hide():this.show(),this.focusInput.nativeElement.focus())}onKeyDown(e){switch(e.which){case 40:if(!this.overlayVisible&&e.altKey)this.show(),e.preventDefault();else if(this.overlayVisible&&this.overlayEl){let t=c.p.getFocusableElements(this.overlayEl);t&&t.length>0&&t[0].focus(),e.preventDefault()}break;case 32:this.overlayVisible||(this.show(),e.preventDefault());break;case 13:case 27:this.overlayVisible&&(this.hide(),e.preventDefault());break;case 9:this.hide()}}show(){this.overlayVisible=!0}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}updateTreeState(){if(this.value){let e="single"===this.selectionMode?[this.value]:[...this.value];this.resetExpandedNodes(),e&&this.options&&this.updateTreeBranchState(null,null,e)}}updateTreeBranchState(e,t,i){if(e){if(this.isSelected(e)&&(this.expandPath(t),i.splice(i.indexOf(e),1)),i.length>0&&e.children)for(let n of e.children)t.push(e),this.updateTreeBranchState(n,t,i)}else for(let n of this.options)this.updateTreeBranchState(n,[],i)}expandPath(e){for(let t of e)t.expanded=!0;this.expandedNodes=[...e]}nodeExpand(e){this.onNodeExpand.emit(e),this.expandedNodes.push(e.node)}nodeCollapse(e){this.onNodeCollapse.emit(e),this.expandedNodes.splice(this.expandedNodes.indexOf(e.node),1)}resetExpandedNodes(){for(let e of this.expandedNodes)e.expanded=!1;this.expandedNodes=[]}findSelectedNodes(e,t,i){if(e){if(this.isSelected(e)&&(i.push(e),delete t[e.key]),Object.keys(t).length&&e.children)for(let n of e.children)this.findSelectedNodes(n,t,i)}else for(let n of this.options)this.findSelectedNodes(n,t,i)}isSelected(e){return-1!=this.findIndexInSelection(e)}findIndexInSelection(e){let t=-1;if(this.value)if("single"===this.selectionMode)t=this.value.key&&this.value.key===e.key||this.value==e?0:-1;else for(let i=0;i<this.value.length;i++){let n=this.value[i];if(n.key&&n.key===e.key||n==e){t=i;break}}return t}onSelect(e){this.onNodeSelect.emit(e),"single"===this.selectionMode&&this.hide()}onUnselect(e){this.onNodeUnselect.emit(e)}onOverlayEnter(){h.P9.set("overlay",this.overlayEl,this.config.zIndex.overlay),this.appendContainer(),this.alignOverlay(),this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.onShow.emit()}onOverlayLeave(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),h.P9.clear(this.overlayEl),this.overlayEl=null,this.onHide.emit()}onFocus(){this.focused=!0}onBlur(){this.focused=!1}writeValue(e){this.value=e,this.updateTreeState(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlayEl):document.getElementById(this.appendTo).appendChild(this.overlayEl))}restoreAppend(){this.overlayEl&&this.appendTo&&("body"===this.appendTo?document.body.removeChild(this.overlayEl):document.getElementById(this.appendTo).removeChild(this.overlayEl))}alignOverlay(){this.appendTo?(c.p.absolutePosition(this.overlayEl,this.containerEl.nativeElement),this.overlayEl.style.minWidth=c.p.getOuterWidth(this.containerEl.nativeElement)+"px"):c.p.relativePosition(this.overlayEl,this.containerEl.nativeElement)}bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=e=>{this.overlayVisible&&this.overlayEl&&!this.containerEl.nativeElement.contains(e.target)&&!this.overlayEl.contains(e.target)&&this.hide()},document.addEventListener("click",this.outsideClickListener))}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new p.V(this.containerEl.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&this.hide()},window.addEventListener("resize",this.resizeListener))}unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}ngOnDestroy(){this.restoreAppend(),this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlayEl&&(h.P9.clear(this.overlayEl),this.overlayEl=null)}containerClass(){return{"p-treeselect p-component p-inputwrapper":!0,"p-treeselect-chip":"chip"===this.display,"p-disabled":this.disabled,"p-focus":this.focused}}labelClass(){return{"p-treeselect-label":!0,"p-placeholder":this.label===this.placeholder,"p-treeselect-label-empty":!this.placeholder&&this.emptyValue}}get emptyMessageText(){return this.emptyMessage||this.config.getTranslation(l.ws.EMPTY_MESSAGE)}get emptyValue(){return!this.value||0===Object.keys(this.value).length}get emptyOptions(){return!this.options||0===this.options.length}get label(){let e=this.value||[];return e.length?e.map(e=>e.label).join(", "):"single"===this.selectionMode&&this.value?e.label:this.placeholder}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(l.b4),n.Y36(n.sBO),n.Y36(n.SBq),n.Y36(l.F0))},e.\u0275cmp=n.Xpm({type:e,selectors:[["p-treeSelect"]],contentQueries:function(e,t,i){if(1&e&&n.Suo(i,l.jx,4),2&e){let e;n.iGM(e=n.CRH())&&(t.templates=e)}},viewQuery:function(e,t){if(1&e&&(n.Gf(f,5),n.Gf(v,5)),2&e){let e;n.iGM(e=n.CRH())&&(t.containerEl=e.first),n.iGM(e=n.CRH())&&(t.focusInput=e.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,t){2&e&&n.ekj("p-inputwrapper-filled",!t.emptyValue)("p-inputwrapper-focus",t.focused||t.overlayVisible)},inputs:{type:"type",inputId:"inputId",scrollHeight:"scrollHeight",disabled:"disabled",metaKeySelection:"metaKeySelection",display:"display",selectionMode:"selectionMode",tabindex:"tabindex",ariaLabelledBy:"ariaLabelledBy",placeholder:"placeholder",panelClass:"panelClass",emptyMessage:"emptyMessage",appendTo:"appendTo",propagateSelectionDown:"propagateSelectionDown",propagateSelectionUp:"propagateSelectionUp",options:"options",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onShow:"onShow",onHide:"onHide",onNodeUnselect:"onNodeUnselect",onNodeSelect:"onNodeSelect"},features:[n._Bn([B])],decls:13,vars:10,consts:[[3,"ngClass","click"],["container",""],[1,"p-hidden-accessible"],["type","text","role","listbox","readonly","","aria-haspopup","true",3,"disabled","focus","blur","keydown"],["focusInput",""],[1,"p-treeselect-label-container"],[3,"ngClass"],[4,"ngIf","ngIfElse"],["defaultValueTemplate",""],[1,"p-treeselect-trigger"],[1,"p-treeselect-trigger-icon","pi","pi-chevron-down"],["class","p-treeselect-panel p-component",3,"click",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["chipsValueTemplate",""],["class","p-treeselect-token",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"p-treeselect-token"],[1,"p-treeselect-token-label"],[1,"p-treeselect-panel","p-component",3,"click"],["overlayRef",""],[1,"p-treeselect-items-wrapper",3,"ngStyle"],[3,"value","propagateSelectionDown","propagateSelectionUp","selectionMode","selection","metaKeySelection","selectionChange","onNodeExpand","onNodeCollapse","onNodeSelect","onNodeUnselect"],["class","p-treeselect-empty-message",4,"ngIf"],[1,"p-treeselect-empty-message"],[4,"ngTemplateOutlet"]],template:function(e,t){if(1&e&&(n.TgZ(0,"div",0,1),n.NdJ("click",function(e){return t.onClick(e)}),n.TgZ(2,"div",2),n.TgZ(3,"input",3,4),n.NdJ("focus",function(){return t.onFocus()})("blur",function(){return t.onBlur()})("keydown",function(e){return t.onKeyDown(e)}),n.qZA(),n.qZA(),n.TgZ(5,"div",5),n.TgZ(6,"div",6),n.YNc(7,y,2,5,"ng-container",7),n.YNc(8,k,3,2,"ng-template",null,8,n.W1O),n.qZA(),n.qZA(),n.TgZ(10,"div",9),n._UZ(11,"span",10),n.qZA(),n.YNc(12,H,7,26,"div",11),n.qZA()),2&e){const e=n.MAs(9);n.Q6J("ngClass",t.containerClass()),n.xp6(3),n.Q6J("disabled",t.disabled),n.uIk("id",t.inputId)("tabindex",t.tabindex)("aria-expanded",t.overlayVisible)("aria-labelledby",t.ariaLabelledBy),n.xp6(3),n.Q6J("ngClass",t.labelClass()),n.xp6(1),n.Q6J("ngIf",t.valueTemplate)("ngIfElse",e),n.xp6(5),n.Q6J("ngIf",t.overlayVisible)}},directives:[s.mk,s.O5,s.tP,s.sg,s.PC,u.mp],styles:[".p-treeselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;-ms-user-select:none;user-select:none}.p-treeselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-treeselect-label-container{overflow:hidden;flex:1 1 auto;cursor:pointer}.p-treeselect-label{display:block;white-space:nowrap;cursor:pointer;overflow:hidden;text-overflow:ellipsis}.p-treeselect-label-empty{overflow:hidden;visibility:hidden}.p-treeselect-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-treeselect .p-treeselect-panel{min-width:100%}.p-treeselect-panel{position:absolute;top:0;left:0}.p-treeselect-items-wrapper{overflow:auto}.p-fluid .p-treeselect{display:flex}"],encapsulation:2,data:{animation:[(0,a.X$)("overlayAnimation",[(0,a.eR)(":enter",[(0,a.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,a.jt)("{{showTransitionParams}}")]),(0,a.eR)(":leave",[(0,a.jt)("{{hideTransitionParams}}",(0,a.oB)({opacity:0}))])])]},changeDetection:0}),e})(),V=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[s.ez,o.T,l.m8,d.xc],l.m8,d.xc]}),e})()}}]);